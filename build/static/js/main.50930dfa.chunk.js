(this["webpackJsonprandom-image-app"]=this["webpackJsonprandom-image-app"]||[]).push([[0],{22:function(e,t,r){},64:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),a=r(32),c=r.n(a),s=r(10),i=(r(22),r(13)),d=r(4),l=r.n(d),u=r(11),p=r(8),b=r(12),j=r.n(b),h=r(2),m=r(0),g={background:"#1E1E1E",width:"100%",padding:"0 .5rem",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},f={display:"flex"},x={padding:".5rem",textDecoration:"none",color:"inherit",cursor:"pointer"},v=function(e){var t=e.text,r=e.loggedUser;return Object(m.jsxs)("div",{style:g,children:[Object(m.jsx)(s.b,{style:x,to:"/",children:Object(m.jsxs)("div",{className:"logo-text",children:[Object(m.jsx)("h1",{children:t}),Object(m.jsx)("div",{children:function(){var e=new Date;return Intl.DateTimeFormat().format(e)}()})]})}),Object(m.jsx)("div",{style:f,children:!r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.b,{style:x,to:"/login",children:"Login"}),Object(m.jsx)(s.b,{style:x,to:"/register",children:"Register"})]})})]})},O={background:"#F4F5F7",width:"80%",display:"flex",flexDirection:"column",margin:"auto",marginBottom:".5rem",marginTop:"2rem",padding:"1rem",borderRadius:"4px",color:"#272727",border:"1px solid #dbdcde"},y={display:"flex",justifyContent:"space-between",fontSize:"1.5rem",fontWeight:"bold",paddingBottom:".5rem"},w={background:"#1E1E1E",color:"#fff",border:"1px solid #1E1E1E",padding:".5rem 1rem",borderRadius:"4px",cursor:"pointer",marginRight:".5rem"},E=function(e){var t=e.movie,r=e.toggleSeen,n=e.removeMovie,o=e.updateMovie,a=e.isUpdating;return Object(m.jsxs)("div",{className:"movie-container",style:O,children:[Object(m.jsxs)("div",{className:"movie-header",style:y,children:[a?Object(m.jsx)("input",{}):Object(m.jsx)("div",{children:t.title}),Object(m.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return r(t._id)},children:t.seen?Object(m.jsx)("span",{children:"\u2705"}):Object(m.jsx)("span",{children:"\u274e"})})]}),Object(m.jsxs)("div",{className:"movie-footer",children:[Object(m.jsx)("button",{style:w,onClick:function(){return n(t._id)},children:"Delete movie"}),a&&Object(m.jsx)("button",{style:w,children:"Save"}),Object(m.jsx)("button",{style:w,onClick:function(){return o(t._id)},children:a?"Cancel":"Update movie"})]})]})},k=r(34),C={width:"85%",padding:".5rem 0",borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px",background:"#F4F5F7",border:"1px solid #dbdcde",color:"#1E1E1E",marginBottom:"1rem"},S={width:"15%",padding:".5rem 0",background:"#16C60C",color:"#fff",borderTop:"1px solid #EAEDF2",borderBottom:"1px solid #EAEDF2",borderRight:"1px solid #EAEDF2",borderLeft:"none",borderTopRightRadius:"4px",borderBottomRightRadius:"4px",cursor:"pointer"},R=function(e){var t=e.movies,r=e.setMovies,o=e.loggedUser,a=Object(n.useState)(""),c=Object(p.a)(a,2),s=c[0],i=c[1];console.log(o);var d=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,c,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:s,seen:!1,user:o._id},e.prev=1,e.next=4,j.a.post("/api",a);case 4:c=e.sent,d=c.data,r([].concat(Object(k.a)(t),[d])),i(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{style:{width:"80%",display:"flex",alignItems:"flex-start",paddingTop:"2rem"},children:[Object(m.jsx)("input",{style:C,value:s,onChange:function(e){return i(e.target.value)},required:!0}),Object(m.jsx)("button",{type:"button",onClick:o&&d,style:S,children:"Add movie"})]})},F={width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},D={width:"50%",display:"flex",flexDirection:"column",padding:"2rem 3rem",background:"#F4F5F7",borderRadius:4,textAlign:"center",border:"1px solid #dbdcde"},B={padding:".5rem 1rem",marginBottom:".1rem",borderRadius:4,border:"1px solid grey"},U={padding:".5rem 1rem",marginBottom:".5rem",borderRadius:4,border:"1px solid grey",background:"#1E1E1E",color:"#fff"},M=function(e){var t=e.header,r=e.setLoggedUser,o=e.history,a=Object(n.useState)({username:"",password:""}),c=Object(p.a)(a,2),d=c[0],b=c[1],h=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.a.post("".concat("api/users","/login"),d);case 4:n=e.sent,r(n.data),setTimeout((function(){o.push("/")}),1e3),b({username:"",password:""}),e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(1),e.t0.response){e.next=15;break}return console.log("Network error",e.t0),e.abrupt("return");case 15:console.log(e.t0.response.data,e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{style:F,children:Object(m.jsxs)("form",{onSubmit:h,style:D,children:[Object(m.jsx)("h2",{style:{paddingBottom:"1rem"},children:t}),Object(m.jsx)("input",{name:"username",value:d.username,style:B,placeholder:"Username",onChange:function(e){return b(Object(i.a)(Object(i.a)({},d),{},{username:e.target.value}))}}),Object(m.jsx)("input",{name:"password",value:d.password,style:B,placeholder:"Password",type:"password",onChange:function(e){return b(Object(i.a)(Object(i.a)({},d),{},{password:e.target.value}))}}),Object(m.jsx)("button",{style:U,children:"Sign in"}),Object(m.jsx)(s.b,{to:"/register",children:"Don't have an account yet?"})]})})},T=function(e){var t=e.header,r=e.history,o=Object(n.useState)(""),a=Object(p.a)(o,2),c=a[0],i=a[1],d=Object(n.useState)(""),b=Object(p.a)(d,2),h=b[0],g=b[1],f=Object(n.useState)(""),x=Object(p.a)(f,2),v=x[0],O=x[1],y=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:c,email:h,password:v},e.prev=2,e.next=5,j.a.post("".concat("http://localhost:4000/users","/register"),n);case 5:i(""),g(""),O(""),r.push("/login"),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(2),e.t0.response){e.next=16;break}return console.log("Network error",e.t0),e.abrupt("return");case 16:console.log(e.t0.response.data,e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{style:F,children:Object(m.jsxs)("form",{onSubmit:y,style:D,children:[Object(m.jsx)("h2",{style:{paddingBottom:"1rem"},children:t}),Object(m.jsx)("input",{name:"username",style:B,placeholder:"Username",value:c,onChange:function(e){return i(e.target.value)}}),Object(m.jsx)("input",{name:"email",style:B,placeholder:"Email",type:"email",value:h,onChange:function(e){return g(e.target.value)}}),Object(m.jsx)("input",{name:"password",style:B,placeholder:"Password",type:"password",value:v,onChange:function(e){return O(e.target.value)}}),Object(m.jsx)("button",{type:"submit",style:U,children:"Sign in"}),Object(m.jsx)(s.b,{to:"/login",children:"Allready have and account? Sign in."})]})})},A={background:"#1E1E1E",width:"30%",color:"#fff",border:"1px solid #1E1E1E",padding:".5rem 1rem",borderRadius:"4px",cursor:"pointer",margin:".5rem 0"},L=function(e){var t=e.handleShowTodoCount,r=e.showMovieCount,n=e.movies;return Object(m.jsxs)("div",{style:{width:"80%",padding:"1rem"},children:[Object(m.jsx)("button",{style:A,onClick:t,children:r?"Hide movie count":"Show movie count"}),r&&Object(m.jsx)("div",{children:"You have ".concat(n.length," movies listed")})]})},N=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),r=t[0],o=t[1],a=Object(n.useState)([]),c=Object(p.a)(a,2),s=c[0],d=c[1],b=Object(n.useState)(null),g=Object(p.a)(b,2),f=g[0],x=g[1],O=Object(h.e)(),y="http://localhost:4000";console.log(f),Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(y);case 2:t=e.sent,console.log(t.data),d(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){f&&d(f.movies)}),[f]);var w=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("".concat(y,"/").concat(t));case 3:d(s.filter((function(e){return e._id!==t}))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(l.a.mark((function e(t){var r,n,o,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),r=s.find((function(e){return e._id===t})),n=Object(i.a)(Object(i.a)({},r),{},{seen:!r.seen}),e.prev=3,e.next=6,j.a.put("".concat(y,"/").concat(t),n);case 6:o=e.sent,a=o.data,d(s.map((function(e){return e._id===t?a:e}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){};return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(v,{text:"Movie Database",loggedUser:f}),Object(m.jsxs)(h.a,{path:"/",exact:!0,children:[Object(m.jsx)(R,{movies:s,setMovies:d,loggedUser:f}),s.map((function(e){return Object(m.jsx)(E,{movie:e,removeMovie:w,toggleSeen:k,updateMovie:C})})),Object(m.jsx)(L,{handleShowTodoCount:function(){o(!r)},showMovieCount:r,movies:s})]}),Object(m.jsx)(h.a,{path:"/login",children:Object(m.jsx)(M,{header:"Login",loggedUser:f,setLoggedUser:x,history:O})}),Object(m.jsx)(h.a,{path:"/register",children:Object(m.jsx)(T,{header:"Register",history:O})})]})};c.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(N,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.50930dfa.chunk.js.map